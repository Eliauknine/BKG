 public void draw(GC gc, GalleryItem item, int index, int x, int y, int width, in{ 		}	}  private int getTextWidth(String text, GC gc) {  int w = 0;  for (int i = 0; i < text.length(); i++) {  w += gc.getCharWidth(text.charAt(i)); 		}  if (Gallery.DEBUG)  System.out.println("Text width : " + w);  return w; 	}  private String createLabel(String text, GC gc, int width) {  if (Gallery.DEBUG)  System.out.println("createLabel " + text);  int textWidth = getTextWidth(text, gc);  if (textWidth <= width) {  if (Gallery.DEBUG)  System.out.println("createLabel done");  return text; 		}  float averageWidth = textWidth / text.length();  if (Gallery.DEBUG)  System.out.println("averageWidth " + averageWidth);  int bestLength = averageWidth > 0 ? (int) (width / averageWidth) : 0;  if (Gallery.DEBUG)  System.out.println("bestLength " + bestLength);  bestLength = (bestLength - 3 < 0) ? 0 : (bestLength - 3);  if (Gallery.DEBUG)  System.out.println("bestLength " + bestLength);  if (bestLength > text.length())  bestLength = text.length();  String result = text.substring(0, bestLength) + "...";  if (Gallery.DEBUG)  System.out.println("result " + result);  if (Gallery.DEBUG)  System.out.println("createLabel done");  return result; 	} 
