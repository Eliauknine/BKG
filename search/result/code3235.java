 protected StyleRange createStyleRange(ITextRegionCollection flatNode,{  // instead of end-start?  if (end > maxOffset)  end = maxOffset;  StyleRange result = new StyleRange(start, end - start, attr 				.getForeground(), attr.getBackground(), attr.getStyle());  if ((attr.getStyle() & TextAttribute.UNDERLINE) != 0) {  result.underline = true;  result.fontStyle &= ~TextAttribute.UNDERLINE; } } 
