 public void apply(ITextViewer viewer, char trigger, int stateMask, int offset) { IDocument document = viewer.getDocument();  apply(document);  int replacementPosition =  replacementOffset + getReplacementString().length() - suffix.length() + caretOffsetInSuffix;  viewer.getSelectionProvider().setSelection(new TextSelection(document, replacementPosition, 0)); 	}  public void selected(ITextViewer viewer, boolean smartToggle) {  if (projectModel == null) {  IStructuredModel structuredModel = null;  try {  structuredModel = StructuredModelManager.getModelManager().getExistingModelForRead(viewer.getDocument());  if (structuredModel != null && structuredModel instanceof PHPEditorModel) {  projectModel = ((PHPEditorModel) structuredModel).getProjectModel();                 }             } finally {  if (structuredModel != null)structuredModel.releaseFromRead();             } 		} 	} 
