 											.substring(index + 1));						} 					} else if (lowerCase.startsWith("/op ")) {   commandMessage = commandMessage.substring(4);  int endmode = commandMessage.lastIndexOf(COMMAND_DELIM,  5);  String mode = "+o "  								+ commandMessage.substring(5, endmode - 1);  int index = commandMessage.indexOf(COMMAND_DELIM);  if (index != -1) {  connection.doMode(channelName, mode); 						} 					} else if (lowerCase.startsWith("/dop ")) {   commandMessage = commandMessage.substring(5);  int endmode = commandMessage.lastIndexOf(COMMAND_DELIM,  6);  String mode = "-o "  								+ commandMessage.substring(6, endmode - 1);  int index = commandMessage.indexOf(COMMAND_DELIM);  if (index != -1) {  connection.doMode(channelName, mode); 						} 					} else if (lowerCase.startsWith("/ban ")) {   commandMessage = commandMessage.substring(5);  int endmode = commandMessage.lastIndexOf(COMMAND_DELIM,  6);  String mode = "+b "  								+ commandMessage.substring(6, endmode - 1);  int index = commandMessage.indexOf(COMMAND_DELIM);  if (index != -1) {  connection.doMode(channelName, mode); 						} 					} else if (lowerCase.startsWith("/unban ")) {   commandMessage = commandMessage.substring(7);  int endmode = commandMessage.lastIndexOf(COMMAND_DELIM,  8);  String mode = "-b "  								+ commandMessage.substring(8, endmode - 1);  int index = commandMessage.indexOf(COMMAND_DELIM);  if (index != -1) {  connection.doMode(channelName, mode); 						} 					} else if (lowerCase.startsWith("/kick ")) {   commandMessage = commandMessage.substring(6);  int endnick = commandMessage.lastIndexOf(COMMAND_DELIM,  7);  String nick = commandMessage.substring(7, endnick - 1);  String comment = commandMessage.substring(endnick);  int index = commandMessage.indexOf(COMMAND_DELIM);  if (index != -1) {  if (comment.length() > 0) {  connection.doKick(channelName, nick, comment); 							} else {  connection.doKick(channelName, nick); 							} 						} 					}
