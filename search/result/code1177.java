 public Node getNode(INode node, IProgressMonitor monitor) throws CoreException {  Marketplace marketplace;  if (node.getId() != null) {  // bug 304928: prefer the id method rather than the URL, since the id provides stable URL and the  // URL is based on the name, which could change.  String encodedId = urlEncode(node.getId());  marketplace = processRequest(API_NODE_URI + '/' + encodedId + '/' + API_URI_SUFFIX, monitor); 		} else {  marketplace = processRequest(node.getUrl(), API_URI_SUFFIX, monitor); 		}  if (marketplace.getNode().isEmpty()) {  throw new CoreException(createErrorStatus(Messages.DefaultMarketplaceService_nodeNotFound, null)); 		} else if (marketplace.getNode().size() > 1) {  throw new CoreException(createErrorStatus(Messages.DefaultMarketplaceService_unexpectedResponse, null)); 		}  Node resolvedNode = marketplace.getNode().get(0);  return resolvedNode; } 
